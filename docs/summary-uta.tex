\documentclass{report}
\usepackage{amsmath} 
\usepackage{hyperref}
\usepackage[a4paper, total={6in, 8in}]{geometry}

\title{UTA Method}
\author{Elie Daher}

\begin{document}
\pagenumbering{gobble}
\maketitle
\abstract This report contains the summary of the chapter \textbf{UTA Methods} from the Book : Multiple Criteria Decision Analysis. This document was made during my internship at LAMSADE in the summer of 2017.
\tableofcontents{}
\pagenumbering{arabic}

\chapter{Introduction}
In 1982,  E. Jacquet-Lagr√®ze and J. Siskos proposed a decision mehtod called UTA. This method is proposed by the Multi-Attribute Utility Theory (MAUT) that build a utility function based on the DM\footnote{Decision Maker} preferences.\\ 
Assuming that the decision is given, the UTA method will find the rational basis for the decision being made. Or how can we use the DM's preference leading to the exact same or "similar" decision. \\  

The UTA method is used to solve a multi-criteria problem. It build a utility function based on the preferences of the DM and it consist in solving a linear program (LP).\\

UTA methods adpot the aggregation-disaggregation principles. The aggregation is where the model is known and the preferneces are unknown, while the disaggregation is where the model is based on a given preferences

\chapter{Method}
\section{Principles and Notation}
\subsection{Weighted form}
A weighted form of the UTA Method has the following form: 
\begin{equation}
	u(g) = \sum_{i=1}^{n} p_i u_i (g_i)\\
\end{equation}
subject to normalization constraints:\\
\begin{equation}
      \begin{cases}
      	\sum_{i=1}^{n} p_i = 1 \\
      	u_i(g_{i*}) = 0, u_i(g_{i*}) = 1,  \forall i = 1, 2, ..., n\\
      \end{cases}
\end{equation}
where $ u_i, i = 1,2,...,n$ are non decreasing real valued functions, and $p_i$ is the weight of $u_i$.\\

\subsection{Unweighted form}
An unweighted form of the UTA Method has the following form: 
\begin{equation}\label{eq1}
      u(g) = \sum_{i=1}^{n} u_i (g_i)
\end{equation}
subject to normalization constraints:\\
\begin{equation}\label{eq2}
      \begin{cases}
      	\sum_{i=1}^{n} u_i(g_{i*}) = 1\\
       	u_i(g_{i*}) = 0,  \forall i = 1, 2, ..., n\\
      \end{cases}
\end{equation}

\section{Development}
The value of each alternative $a \in A_R $ may be written as:
\begin{equation}
	u^{'} [g(a)] = \sum_{i=1}^{n} u_i [g_i (a)] + \sigma (a)   \forall a \in A_R
\end{equation}
where $\sigma (a)$ is a potential error relative to $u^{'} [g(a)]$.\\

We use the linear interpolation to estimate the marginal value function. For each criteria, the interval $[g_{i*}, g_i^{*}]$ is cut into $(\alpha _i -1)$ equals interval, and the end points $g_i^{j}$ are given by the formula:
\begin{equation}
	g_i^{j}= g_{i*} + \frac{j-1}{\alpha _i -1} (g_i^{*} - g_{i*})  \forall j = 1,2, ..., \alpha _i
\end{equation}

The marginal value of an action $a$ is calculated by a linear interpolation
\begin{equation}
	u_i [g_i (a)] = u_i (g_i^{j}) + \frac{g_i (a) - g_i^{j}}{ g_i^{j+1} - g_i^{j}} [u_i (g_i^{j+1}) - u_i (g_i^{j}) ] 
\end{equation}

The set of reference action $ A_R = a_1, a_2, ... , a_m$ is arranged where $a_1$ is the best action and $a_m$ is the worst action. Which means : 
\begin{equation}\label{eq3}
      \begin{cases}
      	\Delta (a_k, a_{k+1} ) \geq \delta\\
       	\Delta (a_k, a_{k+1} ) = 0 \\
      \end{cases}
\end{equation}
where $\Delta (a_k, a_{k+1} ) = u^{'} [g(a_k)] - u^{'} [g(a_{k+1})]$ and $\delta$ is a small positive number. \\

The marginal value $u_i (g_i)$ must satisfy these constraints: 
\begin{equation}\label{eq4}
	u_i (g_i^{j+1}) - u_(g_i^{j}) \geq s_i \forall j = 1,2, ..., \alpha _i  - 1, i = 1,2, ..., n 
\end{equation}
where $s_i \geq 0$ and being indifference for each criteria.  \\

The marginal value functions are estimated by means of the Linear Programm with \eqref{eq1}, \eqref{eq2}, \eqref{eq3}, \eqref{eq4} as constraints, and an objective function depending on the $\sigma(a)$: 
$$ [min]F = \sum_{a \in A_R} \sigma(a)  $$
subject to : \\
\begin{equation}
      \begin{cases}
      	\Delta (a_k, a_{k+1} ) \geq \delta \quad or \quad \Delta (a_k, a_{k+1} ) = 0 \\
       	u_i (g_i^{j+1}) - u_(g_i^{j}) \geq 0 \quad \forall \quad i \quad and \quad j\\
       	\sum_{i=1}^{n} u_i(g_{i}^{*}) = 1\\
	u_i (g_i^{*}) = 0 \quad  u_i(g_i^{j}) \geq 0 \quad  \sigma(a) \geq 0 \quad  \forall a \in A_R\quad  \forall i and j\\
      \end{cases}
\end{equation}
The analysis found by this LP is a post-optimality analysis. 
\newpage
\section{UTASTAR}
The UTASTAR is an improved version of the UTA. 
\subsection{Principles and Notations}
In UTA we used a single error $\sigma(a)$ in UTASTAR we use a double positive error function : 
\begin{equation}
	u^{'} [g(a)] = \sum_{i=1}^{n} u_i [g_i (a)] - \sigma ^{+} (a)+ \sigma ^{-} (a) \quad  \forall a \in A_R
\end{equation}
where $\sigma ^{+} (a)$ and $\sigma ^{-} (a)$ are the underestimation and overstimation of the error function.\\ 

So, the UTASTAR algorithm has the following steps :\\ 
\begin{enumerate}
\item Find the value of reference actions $u[g(a_k)]$ in terms of marginal values  $u_i(g_i)$ and in terms of variables  $w_{ij}$
\begin{equation}
      \begin{cases}
     	u_i(g_i^1) = 0 \quad \forall i = 1,2,...,n \\
	u_i(g_i^j) =	  \sum_{t=1}^{j-1} w_{it} \quad \forall i = 1,2,...,n \quad and \quad j = 2,3,...,\alpha _i -1 \\
      \end{cases}
\end{equation}
\item Write for each pair of consecutive action by including the errors function $\sigma ^{+} (a)$ and $\sigma ^{-} (a)$
\begin{equation}
	\Delta (a_k , a_{k+1}) = u[g(a_k)] - \sigma ^{+} (a_k) + \sigma ^{-} (a_k) -  u[g(a_{k+1})] + \sigma ^{+} (a_{k+1}) - \sigma ^{-} (a_{k+1})
\end{equation}
\item Solve the Linear Program
$$ [min]z = \sum_{k=1}^{m} [ \sigma ^{+} (a_k) + \sigma ^{-} (a_k)]  $$
subject to : \\
\begin{equation}\label{eq5}
      \begin{cases}
      	\Delta (a_k, a_{k+1} ) \geq \delta \quad or \quad \Delta (a_k, a_{k+1} ) = 0 \\
      	\sum_{i=1}^{n} \sum_{j=1}^{\alpha_i -1} w_{ij} = 1\\
       	w_{ij} \geq 0, \quad \sigma^{+}(a_k) \geq 0, \quad \sigma^{-}(a_k) \geq 0, \quad  \forall i, j  and  k\\
      \end{cases}
\end{equation}
\item Test the exitence of the optimal solution of the LP. You can find the mean additive value fuction of the optimal solutions which maximise the objective functions (in case of multiple optimal solutions) : 
\begin{equation}
	u_i(g_i^{*}) = \sum_{j=1}^{\alpha_i - 1} w_{ij} \quad \forall i = 1,2,...,n
\end{equation}
With the additional constraint of \eqref{eq5}, we add the following constaint : 
\begin{equation}
	\sum_{k=1}^{m} [ \sigma^{+} (\alpha _k) + \sigma ^{-}(\alpha _k)]  \geq z^{*} + \varepsilon 
\end{equation}
where $z^{*}$ is the optimal value of the LP found in step 3 and $\varepsilon$ is a very small positive value
\end{enumerate}
\subsection{Comparison}
The UTASTAR has been considered a better algorithm than UTA. Better result were found using the UTASTAR algorithm.

\chapter{Examples}

\section{ Analyzing the choice of transportation}
\subsection{Problem}
A DM wants to analyse the choice of transportation. The DM is interstered in the following criteria 
\begin{enumerate}
\item price
\item time (min)
\item comfort (possibility to have a seat)
\end{enumerate}\leavevmode

The evaluation of the previous criteria :
\begin{center}
\begin{tabular}{ |c|c|c|c|c| } 
\hline
Means of transportation & Price & Time & Comfort & Ranking of the DM \\
\hline
RER & 3 & 10 & + & 1 \\
METRO (1) & 4 & 20 & ++ & 2 \\
METRO (2) & 2 & 20 & 0 & 2 \\
BUS & 6 & 40 & 0 & 3 \\
TAXI & 30 & 30 & +++ & 4 \\
\hline
\end{tabular}
\end{center}

DM's preferences : $ RER \succ  Metro1 \approx Metro2  \succ  Bus \succ  Taxi$\\
\newpage
\subsection{Solution}
\subsubsection{Scale for each criteria}
For each criteria, the interval $[g_i^{*}, g_{i*}]$ is cut into $(\alpha _i -1)$ equal intervals. So in this case we have : 
\begin{itemize}
\item Price  $\quad \rightarrow \quad [30, 16, 2]$
\item Time  $\quad \rightarrow \quad [40, 30, 20, 10]$
\item Comfort  $\quad \rightarrow \quad [0, +, ++, +++]$
\end{itemize}

\subsubsection{Marginal value by linear interpolation}
The marginal value is calculated by a linear interpolation. In this case we have: 
\begin{itemize}
\item $u[g(RER)]= 0.07  u_1 (16) + 0.93 u_1(2)  + u_2(10) + u_3(+)$
\item $u[g(METRO1)]= 0.14  u_1 (16) + 0.86 u_1(2) + u_2(20) + u3(++)$
\item $u[g(METRO2)]= u_1 (2) + u_2(20) + u3(0) =  u_1 (2) + u_2(20) $
\item $u[g(BUS)]= 0.29  u_1 (16) + 0.71 u_1(2) + u_2(40) + u3(0) = 0.29  u_1 (16) + 0.71 u_1(2)$
\item $[u[g(TAXI)]= u_1 (30) + u_2(30) + u3(+++) = u_2(30) + u3(+++)$
\end{itemize}

\subsubsection{Replace $u_i$ with $w_{ij} $}
\begin{itemize}
\item $u[g(RER)]= w_{11} + 0.93 w_{12} + w_{21} + w_{22} + w{23} + w_{31}$
\item $u[g(METRO1)]=w_{11} + 0.86 w_{12} + w_{21} + w_{22} + w_{31} + w_{32}$
\item $u[g(METRO2)]= w_{11} + w_{12} + w_{21} + w_{22} $
\item $u[g(BUS)]= w_{11} + 0.71 w_{12}$
\item $[u[g(TAXI)]= w_{21} + w_{31} + w_{32} + w_{33}$
\end{itemize}

\subsubsection{Difference between each pair of consecutive actions}
\begin{itemize}
\item $\Delta (RER, METRO1) = 0.07 w_{12} + w_{23} - w_{32} + \sigma_{RER} - \sigma_{METRO1} \geq \delta$
\item $\Delta (METRO1, METRO2) = -0.14 w_{12} + w_{31} + w_{32} + \sigma_{METRO1}- \sigma_{METRO2} = 0$
\item $\Delta (METRO2, BUS) = 0.29 w_{12} + w_{21} + w_{22} + \sigma_{METRO2} - \sigma_{BUS} \geq \delta$
\item $\Delta (BUS, TAXI) = w_{11} + 0.71w_{12} - w_{21} - w_{31} - w_{32} - w_{33} + \sigma_{BUS} - \sigma_{TAXI} \geq \delta$
\end{itemize}

\subsubsection{Linear Program}
With $[min]F = \sum_{a \in A_R} \sigma(a) $ as the main objectif, we have the following linear program to solve: 
 
\begin{center}
\begin{tabular}{ |c|c|c|c|c|c|c|c|c|c| } 
\hline Desc & $w_{11}$ & $w_{12}$ & $w_{21}$ & $w_{22}$  & $w_{23}$ & $w_{31}$ & $w_{32}$ & $w_{33}$ & Result  \\ \hline
$\Delta (RER, METRO1)\geq \delta$     & 0 & 0.07  & 0  & 0 & 1 & 0  & -1 & 0 & $\geq \delta$\\
$\Delta (METRO1, METRO2) = 0$         & 0 & -0.14 & 0  & 0 & 0 & 1  & 1  & 0 & $= 0$\\
$\Delta (METRO2, BUS)\geq \delta$     & 0 & 0.29  & 1  & 1 & 0 & 0  & 0   & 0 & $\geq \delta$\\
$\Delta (BUS, TAXI) \geq \delta$          & 1 & 0.71  & -1 & 0 & 0 & -1 & -1 & -1 & $\geq \delta$\\
$\sum_{i=1}^{n} u_i(g_{i}^{*}) = 1$ & 1 & 1       & 1   & 1 & 1 & 1  & 1  & 1 & $= 1$ \\
\hline
\end{tabular}
\end{center}

\section{Analyzing the choice of transportation}
\subsection{Problem}
Lebanon is in need of a new location for the placement of a recycling center. The locations has been studied on the following criteria: 
\begin{itemize}
\item Technical
\item Economical activity  
\item Environmental
\item Socio-Demographic
\item Financial
\end{itemize}

A specialized team has selected 6 possible locations. The following table contains the evaluations of those locations on the previous criterias :
\begin{center}
\begin{tabular}{ |c|c|c|c|c|c|c| } 
\hline
Location & Technical & Economical activity & Environmental & Socio-Demographic & Financial & Ranking \\
\hline
L1 & 3 & 3 & 3 & 1 & 3 & 6 \\
L2 & 3 & 3 & 3 & 2 & 4 & 4 \\
L3  & 3 & 4 & 3 & 3 & 3 & 2 \\
L4 & 2 & 2 & 3 & 2 & 4 & 5 \\
L5 & 5 & 3 & 4 & 4 & 3 & 1 \\
L6 & 4 & 1 & 3 & 4 & 4 & 3 \\
\hline
\end{tabular}
\end{center}

DM's preferences : $ L5 \succ L3\succ L6\succ L2 \succ L4 \succ L1$\\

\newpage
\subsection{Solution}
\subsubsection{Scale for each criteria}
For each criteria, the interval $[g_i^{*}, g_{i*}]$ is cut into $(\alpha _i -1)$ equal intervals. So in this case we have : 
\begin{itemize}
\item Technical  $\quad \rightarrow \quad [1, 2, 3, 4, 5]$
\item Economical activity   $\quad \rightarrow \quad [1, 2, 3, 4, 5]$
\item Environmental  $\quad \rightarrow \quad [1, 2, 3, 4, 5]$
\item Socio-Demographic  $\quad \rightarrow \quad [1, 2, 3, 4, 5]$
\item Financial  $\quad \rightarrow \quad [1, 2, 3, 4, 5]$
\end{itemize}

\subsubsection{Marginal value by linear interpolation}
The marginal value is calculated by a linear interpolation. In this case we have: 
\begin{itemize}
\item $u[g(L1)]= $
\item $u[g(L2)]= $
\item $u[g(L3)]= $
\item $u[g(L4)]= $
\item $u[g(L5)]= $
\item $u[g(L6)]= $
\end{itemize}

\subsubsection{Replace $u_i$ with $w_{ij} $}
\begin{itemize}
\item $u[g(L1)]= $
\item $u[g(L2)]= $
\item $u[g(L3)]= $
\item $u[g(L4)]= $
\item $u[g(L5)]= $
\item $u[g(L6)]= $
\end{itemize}

\subsubsection{Difference between each pair of consecutive actions}
\begin{itemize}
\item $\Delta (L1, L2) =  \geq \delta$
\item $\Delta (L2, L3) = \geq \delta$
\item $\Delta (L3, L4) = \geq \delta$
\item $\Delta (L4, L5) = \geq \delta$
\item $\Delta (L5, L6) = \geq \delta$
\end{itemize}

\subsubsection{Linear Program}


\chapter{Conclusion}
The UTA method build a utility function based on the preferences of the DM and it consist in solving a linear program (LP) to solve a multi-criteria problem.\\

This method will elaborate a model of preferences which is as similiar as possible to the DM's preferences.\\

An improved version of the UTA is the UTASTAR. In UTA we used a single error $\sigma(a)$ in UTASTAR we use a double positive error function. The updated version has performed better than the regular method. 

\begin{thebibliography}{9}
\bibitem{latexcompanion} Salvatore Greco, Matthias Ehrgott, Jose Rui Figueira \textit{Multiple Criteria Decision Analysis}. State of the Art Surveys, 2004.
\bibitem{utastar} Siskos, Yannacopoulos \textit{UTASTAR: an ordinal regression method for building additive value functions}
\bibitem{cahier24} Siskos \textit{Cahier du LAMSADE : Les programmes UTA}, 1979
\bibitem{theseAHammami} Abdelkader Hammami, These du grade Philosophiae Doctor PHD de la Faculte des Sciences et de Genie \textit{Modelisation Technico-Economique d'une chaine logistique dans une entreprise reseau}, 2003
\end{thebibliography}

\end{document}